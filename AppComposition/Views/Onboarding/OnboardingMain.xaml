<?xml version="1.0" encoding="utf-8" ?>
<base:BasePage
    x:Class="PasswordManager.AppComposition.Views.Onboarding.OnboardingMain"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:VM="clr-namespace:PasswordManager.AppComposition.ViewModels.Onboarding"
    xmlns:base="clr-namespace:PasswordManager.AppComposition.Views.MainPages"
    xmlns:sys="clr-namespace:System;assembly=netstandard"
    ShowHeadSection="False">
    <base:BasePage.Body>
        <ScrollView>
            <Grid Padding="15" RowSpacing="10">
                <VerticalStackLayout Spacing="15" VerticalOptions="CenterAndExpand">
                    <CarouselView
                        FlowDirection="LeftToRight"
                        IndicatorView="indicatorView"
                        ItemsSource="{Binding Source={RelativeSource AncestorType={x:Type VM:OnboardingViewModel}}, Path=OnboardingItems}"
                        Loop="False">

                        <CarouselView.ItemTemplate>
                            <DataTemplate>
                                <Label HorizontalOptions="Start" HorizontalTextAlignment="Start">

                                    <Label.FormattedText>
                                        <FormattedString>
                                            <Span
                                                FontAttributes="Bold"
                                                FontFamily="BebasNeueRegular"
                                                FontSize="68"
                                                Text="{Binding HeaderText1}"
                                                TextColor="{AppThemeBinding Light={StaticResource Secondary},
                                                                            Dark={StaticResource White}}" />
                                            <Span
                                                FontAttributes="Bold"
                                                FontFamily="BebasNeueRegular"
                                                FontSize="68"
                                                Text="{Binding HeaderText2}"
                                                TextColor="{AppThemeBinding Light={StaticResource Primary},
                                                                            Dark={StaticResource White}}" />
                                            <Span
                                                FontAttributes="Bold"
                                                FontFamily="BebasNeueRegular"
                                                FontSize="68"
                                                Text="{Binding HeaderText3}"
                                                TextColor="{AppThemeBinding Light={StaticResource Secondary},
                                                                            Dark={StaticResource White}}" />

                                            <Span Text="{x:Static sys:Environment.NewLine}" />

                                            <Span
                                                FontFamily="PoppinsRegular"
                                                FontSize="Small"
                                                Text="{Binding SubText}"
                                                TextColor="{AppThemeBinding Light={StaticResource Gray300},
                                                                            Dark={StaticResource White}}" />
                                        </FormattedString>
                                    </Label.FormattedText>
                                </Label>
                            </DataTemplate>
                        </CarouselView.ItemTemplate>
                    </CarouselView>

                    <IndicatorView x:Name="indicatorView" HorizontalOptions="End" />

                </VerticalStackLayout>

                <FlexLayout
                    AlignItems="End"
                    Direction="Row"
                    JustifyContent="SpaceAround"
                    VerticalOptions="End"
                    Wrap="Wrap">
                    <Button
                        BackgroundColor="Transparent"
                        BorderColor="{AppThemeBinding Light={StaticResource Primary},
                                                      Dark={StaticResource White}}"
                        BorderWidth="2"
                        Command="{Binding Source={RelativeSource AncestorType={x:Type VM:OnboardingViewModel}}, Path=GotoRegistrationPageCommand}"
                        FontAttributes="Bold"
                        Text="Register"
                        TextColor="{AppThemeBinding Light={StaticResource Primary},
                                                    Dark={StaticResource White}}"
                        TextTransform="Uppercase"
                        WidthRequest="150" />
                    <Button
                        BorderColor="{AppThemeBinding Light={StaticResource Primary},
                                                      Dark={StaticResource White}}"
                        BorderWidth="2"
                        Command="{Binding Source={RelativeSource AncestorType={x:Type VM:OnboardingViewModel}}, Path=GotoLoginPageCommand}"
                        FontAttributes="Bold"
                        Text="Login"
                        TextColor="{AppThemeBinding Light={StaticResource White},
                                                    Dark={StaticResource TertiaryDark}}"
                        TextTransform="Uppercase"
                        WidthRequest="150" />
                </FlexLayout>
            </Grid>
        </ScrollView>
    </base:BasePage.Body>
</base:BasePage>